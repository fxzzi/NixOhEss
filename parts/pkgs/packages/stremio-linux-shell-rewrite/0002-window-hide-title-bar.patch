From 66b6fbd92853ed2d6d3aae603b8d1d0044eaeead Mon Sep 17 00:00:00 2001
From: Fazzi <faaris.ansari@proton.me>
Date: Thu, 27 Nov 2025 12:25:48 +0000
Subject: [PATCH] window: hide title bar

---
 src/app/window/imp.rs    |  2 --
 src/app/window/mod.rs    |  1 -
 src/app/window/window.ui | 40 ++--------------------------------------
 3 files changed, 2 insertions(+), 41 deletions(-)

diff --git a/src/app/window/imp.rs b/src/app/window/imp.rs
index 95c0da7..8b05781 100644
--- a/src/app/window/imp.rs
+++ b/src/app/window/imp.rs
@@ -24,8 +24,6 @@ use crate::spawn_local;
 #[derive(Default, gtk::CompositeTemplate)]
 #[template(file = "window.ui")]
 pub struct Window {
-    #[template_child]
-    pub header: TemplateChild<adw::HeaderBar>,
     #[template_child]
     pub overlay: TemplateChild<gtk::Overlay>,
     pub inhibit_request: Arc<Mutex<Option<Request<()>>>>,
diff --git a/src/app/window/mod.rs b/src/app/window/mod.rs
index d4339fb..ae682ab 100644
--- a/src/app/window/mod.rs
+++ b/src/app/window/mod.rs
@@ -37,7 +37,6 @@ impl Window {
     pub fn set_fullscreen(&self, fullscreen: bool) {
         let window = self.imp();
 
-        window.header.set_visible(!fullscreen);
         self.set_fullscreened(fullscreen);
     }
 
diff --git a/src/app/window/window.ui b/src/app/window/window.ui
index 778be0e..b4cef60 100644
--- a/src/app/window/window.ui
+++ b/src/app/window/window.ui
@@ -3,45 +3,9 @@
     <requires lib="gtk" version="4.18" />
     <requires lib="libadwaita" version="1.7" />
 
-    <menu id="menu">
-        <section>
-            <item>
-                <attribute name="label" translatable="yes">_About Stremio</attribute>
-                <attribute name="action">app.show-about</attribute>
-            </item>
-        </section>
-    </menu>
-
     <template class="Window" parent="AdwApplicationWindow">
-        <property name="width-request">400</property>
-        <property name="height-request">700</property>
-        <property name="default-width">1700</property>
-        <property name="default-height">1050</property>
-
         <property name="content">
-            <object class="AdwToolbarView">
-                <child type="top">
-                    <object class="AdwHeaderBar" id="header">
-                        <property name="css-classes">flat</property>
-
-                        <child type="end">
-                            <object class="GtkMenuButton">
-                                <property name="tooltip-text" translatable="yes">Main menu</property>
-                                <property name="icon-name">open-menu-symbolic</property>
-                                <property name="menu-model">menu</property>
-                                <property name="primary">True</property>
-                            </object>
-                        </child>
-                    </object>
-                </child>
-
-                <property name="content">
-                    <object class="GtkOverlay" id="overlay">
-                        <property name="vexpand">true</property>
-                        <property name="hexpand">true</property>
-                    </object>
-                </property>
-            </object>
+            <object class="GtkOverlay" id="overlay" />
         </property>
     </template>
-</interface>
\ No newline at end of file
+</interface>
-- 
2.51.2

